"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[282],{2168:function(e,s,t){t.d(s,{$:function(){return h}});var a=t(7437),l=t(2265),n=t(9820),i=t(9174),r=t(2381),c=t(3448);let d=l.forwardRef((e,s)=>{let{className:t,type:l,...n}=e;return(0,a.jsx)("input",{type:l,className:(0,c.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n})});d.displayName="Input";var o=t(2703);let x={status_update:{icon:"\uD83D\uDCCA",label:"Status Update",description:"Agent reporting current operational status",color:"text-blue-400 bg-blue-500/10"},capability_sync:{icon:"\uD83D\uDD04",label:"Capability Sync",description:"Agents synchronizing available capabilities",color:"text-green-400 bg-green-500/10"},evidence_sharing:{icon:"\uD83D\uDD0D",label:"Evidence Sharing",description:"Sharing analysis results and findings",color:"text-purple-400 bg-purple-500/10"},consensus_building:{icon:"\uD83E\uDD1D",label:"Consensus Building",description:"Collaborative decision-making process",color:"text-yellow-400 bg-yellow-500/10"},action_request:{icon:"⚡",label:"Action Request",description:"Requesting specific action from another agent",color:"text-orange-400 bg-orange-500/10"},error_report:{icon:"❌",label:"Error Report",description:"Reporting errors or failures",color:"text-red-400 bg-red-500/10"},heartbeat:{icon:"\uD83D\uDC93",label:"Heartbeat",description:"Regular health check signal",color:"text-slate-400 bg-slate-500/10"},coordination:{icon:"\uD83C\uDFAF",label:"Coordination",description:"Coordinating parallel activities",color:"text-cyan-400 bg-cyan-500/10"}},m={Detection:"text-green-400 bg-green-500/10",Diagnosis:"text-blue-400 bg-blue-500/10",Prediction:"text-purple-400 bg-purple-500/10",Resolution:"text-orange-400 bg-orange-500/10",Communication:"text-cyan-400 bg-cyan-500/10"};function u(e){var s,t;let{message:n,onClick:d,isExpanded:u=!1}=e,[h,p]=(0,l.useState)(u),g=x[n.messageType]||{icon:"\uD83D\uDCDD",label:n.messageType,description:"Unknown message type",color:"text-slate-400 bg-slate-500/10"};return(0,a.jsxs)("div",{className:(0,c.cn)("p-3 border border-slate-600 rounded-lg transition-all duration-200 cursor-pointer","hover:border-slate-500 hover:bg-slate-800/30",h&&"ring-1 ring-blue-500/30"),onClick:()=>{p(!h),null==d||d(n)},children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,a.jsx)(o.u,{content:g.description,children:(0,a.jsx)("div",{className:(0,c.cn)("flex items-center justify-center w-8 h-8 rounded-full text-sm",g.color),children:g.icon})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,a.jsx)(i.C,{variant:"outline",className:(0,c.cn)("text-xs",m[n.from]||"text-slate-400"),children:n.from}),(0,a.jsx)("span",{className:"text-slate-500 text-xs",children:"→"}),(0,a.jsx)(i.C,{variant:"outline",className:(0,c.cn)("text-xs",m[n.to]||"text-slate-400"),children:n.to})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[n.priority&&(0,a.jsx)(i.C,{variant:"secondary",className:(0,c.cn)("text-xs",(e=>{switch(e){case"critical":return"text-red-400 bg-red-500/20";case"high":return"text-orange-400 bg-orange-500/20";case"medium":return"text-yellow-400 bg-yellow-500/20";case"low":return"text-green-400 bg-green-500/20";default:return"text-slate-400 bg-slate-500/20"}})(n.priority)),children:n.priority}),(0,a.jsx)(i.C,{variant:"outline",className:(0,c.cn)("text-xs",g.color),children:g.label}),(0,a.jsx)(r.z,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-slate-400",onClick:e=>{e.stopPropagation(),p(!h)},children:h?"−":"+"})]})]}),(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)("p",{className:"text-sm text-slate-200 leading-relaxed",children:n.message})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("span",{children:["⏰ ",(e=>{try{return new Date(e).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(s){return e}})(n.timestamp)]}),n.confidence&&(0,a.jsxs)("span",{children:["\uD83C\uDFAF ",(100*n.confidence).toFixed(0),"%"]}),(null===(s=n.metadata)||void 0===s?void 0:s.processingTime)&&(0,a.jsxs)("span",{children:["⚡ ",n.metadata.processingTime,"ms"]})]}),(null===(t=n.metadata)||void 0===t?void 0:t.correlationId)&&(0,a.jsx)(o.u,{content:"Correlation ID: ".concat(n.metadata.correlationId),children:(0,a.jsxs)("span",{className:"font-mono text-xs",children:["#",n.metadata.correlationId.slice(-6)]})})]}),h&&n.metadata&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-slate-600 space-y-2 animate-slide-up",children:[(0,a.jsx)("h5",{className:"text-xs font-semibold text-slate-300",children:"Message Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[n.metadata.correlationId&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Correlation ID:"}),(0,a.jsx)("div",{className:"font-mono text-slate-200 mt-1",children:n.metadata.correlationId})]}),void 0!==n.metadata.retryCount&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Retry Count:"}),(0,a.jsx)("div",{className:"text-slate-200 mt-1",children:n.metadata.retryCount})]}),n.metadata.processingTime&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Processing Time:"}),(0,a.jsxs)("div",{className:"text-slate-200 mt-1",children:[n.metadata.processingTime,"ms"]})]})]}),n.metadata.payload&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400 text-xs",children:"Payload:"}),(0,a.jsx)("pre",{className:"text-xs bg-slate-800 p-2 rounded mt-1 overflow-x-auto",children:JSON.stringify(n.metadata.payload,null,2)})]})]})]})}function h(e){let{messages:s,onMessageClick:t,className:m}=e,[h,p]=(0,l.useState)(""),[g,f]=(0,l.useState)("all"),[j,b]=(0,l.useState)("all"),[v,N]=(0,l.useState)(!0),D=s.filter(e=>{let s=""===h||e.message.toLowerCase().includes(h.toLowerCase())||e.from.toLowerCase().includes(h.toLowerCase())||e.to.toLowerCase().includes(h.toLowerCase()),t="all"===g||e.from===g||e.to===g,a="all"===j||e.messageType===j;return s&&t&&a}),y=Array.from(new Set([...s.map(e=>e.from),...s.map(e=>e.to)])).sort(),C=Array.from(new Set(s.map(e=>e.messageType))).sort(),w=(0,l.useRef)(null);(0,l.useEffect)(()=>{v&&w.current&&(w.current.scrollTop=w.current.scrollHeight)},[s,v]);let k={total:s.length,byType:Object.entries(s.reduce((e,s)=>(e[s.messageType]=(e[s.messageType]||0)+1,e),{})).sort((e,s)=>{let[,t]=e,[,a]=s;return a-t}),avgConfidence:s.filter(e=>e.confidence).length>0?s.filter(e=>e.confidence).reduce((e,s)=>e+(s.confidence||0),0)/s.filter(e=>e.confidence).length:0};return(0,a.jsxs)(n.Zb,{className:(0,c.cn)("card-glass",m),children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:["\uD83D\uDCAC Inter-Agent Communication",(0,a.jsxs)(i.C,{variant:"secondary",className:"text-xs",children:[D.length," / ",s.length," messages"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(o.u,{content:"Auto-scroll to latest messages",children:(0,a.jsx)(r.z,{variant:v?"default":"outline",size:"sm",onClick:()=>N(!v),className:"text-xs",children:"\uD83D\uDCDC Auto-scroll"})})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-4",children:[(0,a.jsx)(d,{placeholder:"Filter messages...",value:h,onChange:e=>p(e.target.value),className:"flex-1 h-8 text-sm"}),(0,a.jsxs)("select",{value:g,onChange:e=>f(e.target.value),className:"h-8 px-2 text-sm bg-slate-700 border border-slate-600 rounded",children:[(0,a.jsx)("option",{value:"all",children:"All Agents"}),y.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsxs)("select",{value:j,onChange:e=>b(e.target.value),className:"h-8 px-2 text-sm bg-slate-700 border border-slate-600 rounded",children:[(0,a.jsx)("option",{value:"all",children:"All Types"}),C.map(e=>{var s;return(0,a.jsx)("option",{value:e,children:(null===(s=x[e])||void 0===s?void 0:s.label)||e},e)})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-xs text-slate-400",children:[(0,a.jsxs)("span",{children:["\uD83D\uDCCA ",k.total," total"]}),k.avgConfidence>0&&(0,a.jsxs)("span",{children:["\uD83C\uDFAF ",(100*k.avgConfidence).toFixed(1),"% avg confidence"]}),(0,a.jsxs)("span",{children:["\uD83D\uDD04 ",k.byType.length," message types"]})]})]}),(0,a.jsxs)(n.aY,{children:[0===D.length?(0,a.jsxs)("div",{className:"text-center text-slate-400 py-8",children:[(0,a.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDCAC"}),(0,a.jsx)("p",{children:"No messages match current filters"}),(0,a.jsx)("p",{className:"text-xs mt-2",children:"Adjust filters or wait for agent communications"})]}):(0,a.jsx)("div",{ref:w,className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:D.map(e=>(0,a.jsx)(u,{message:e,onClick:t},e.id))}),s.length>0&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-600",children:[(0,a.jsx)("h5",{className:"text-xs font-semibold text-slate-300 mb-2",children:"Message Types"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(x).map(e=>{let[s,t]=e;return(0,a.jsx)(o.u,{content:t.description,children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs p-2 rounded bg-slate-800/30",children:[(0,a.jsx)("span",{children:t.icon}),(0,a.jsx)("span",{className:"text-slate-300",children:t.label})]})},s)})})]})]})]})}},2703:function(e,s,t){t.d(s,{Ze:function(){return o},j3:function(){return u},rq:function(){return m},st:function(){return x},u:function(){return d}});var a=t(7437),l=t(2265),n=t(9820),i=t(9174),r=t(2381),c=t(3448);function d(e){let{content:s,children:t,position:n="top"}=e,[i,r]=(0,l.useState)(!1),d="tooltip-".concat(Math.random().toString(36).substr(2,9));return(0,a.jsxs)("div",{className:"relative inline-block",tabIndex:0,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onFocus:()=>r(!0),onBlur:()=>r(!1),onKeyDown:e=>{"Enter"===e.key||" "===e.key?(e.preventDefault(),r(!i)):"Escape"===e.key&&r(!1)},"aria-describedby":i?d:void 0,children:[t,i&&(0,a.jsxs)("div",{id:d,role:"tooltip","aria-hidden":!i,className:(0,c.cn)("absolute z-50 px-3 py-2 text-sm text-white bg-slate-800 border border-slate-600 rounded-lg shadow-lg whitespace-nowrap",{"bottom-full left-1/2 transform -translate-x-1/2 mb-2":"top"===n,"top-full left-1/2 transform -translate-x-1/2 mt-2":"bottom"===n,"right-full top-1/2 transform -translate-y-1/2 mr-2":"left"===n,"left-full top-1/2 transform -translate-y-1/2 ml-2":"right"===n}),children:[s,(0,a.jsx)("div",{className:(0,c.cn)("absolute w-2 h-2 bg-slate-800 border-slate-600 transform rotate-45",{"top-full left-1/2 -translate-x-1/2 -mt-1 border-b border-r":"top"===n,"bottom-full left-1/2 -translate-x-1/2 -mb-1 border-t border-l":"bottom"===n,"top-1/2 left-full -translate-y-1/2 -ml-1 border-t border-r":"left"===n,"top-1/2 right-full -translate-y-1/2 -mr-1 border-b border-l":"right"===n})})]})]})}function o(e){let{agent:s,confidence:t,uncertainty:l=.02,calculation:n,className:r}=e,o=n||"Confidence calculated from model accuracy (".concat((100*t).toFixed(1),"%) across historical incidents. Uncertainty range: \xb1").concat((100*l).toFixed(1),"%");return(0,a.jsxs)("div",{className:(0,c.cn)("space-y-2",r),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:s}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.C,{variant:"outline",className:"text-xs",children:t>=.8?"High":t>=.6?"Medium":t>=.4?"Low":"Critical"}),(0,a.jsx)(d,{content:o,children:(0,a.jsx)("span",{className:"text-xs text-slate-400 cursor-help",children:"ℹ️"})})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-full h-3 bg-slate-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:(0,c.cn)("h-full transition-all duration-500",t>=.8?"bg-green-400":t>=.6?"bg-yellow-400":t>=.4?"bg-orange-400":"bg-red-400"),style:{width:"".concat(100*t,"%")}})}),(0,a.jsx)("div",{className:"absolute top-0 h-3 bg-white/20 rounded-full",style:{left:"".concat(Math.max(0,(t-l)*100),"%"),width:"".concat(Math.min(100-Math.max(0,(t-l)*100),200*l),"%")}})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsxs)("span",{className:"text-slate-500",children:[((t-l)*100).toFixed(1),"%"]}),(0,a.jsxs)("span",{className:"font-mono font-medium text-white",children:[(100*t).toFixed(1),"%"]}),(0,a.jsxs)("span",{className:"text-slate-500",children:[((t+l)*100).toFixed(1),"%"]})]})]})}function x(e){let{title:s,value:t,subtitle:i,icon:o,trend:x,trendValue:m,details:u,sparklineData:h,className:p}=e,[g,f]=(0,l.useState)(!1);return(0,a.jsx)(n.Zb,{className:(0,c.cn)("card-glass cursor-pointer transition-all duration-300",p),children:(0,a.jsxs)(n.aY,{className:"p-6",onClick:()=>f(!g),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[o&&(0,a.jsx)("span",{className:"text-lg",children:o}),(0,a.jsx)(d,{content:"Click to ".concat(g?"collapse":"expand"," details"),children:(0,a.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:s})})]}),(0,a.jsx)(r.z,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:g?"−":"+"})]}),(0,a.jsxs)("div",{className:"flex items-baseline gap-3 mb-2",children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-white",children:t}),x&&m&&(0,a.jsxs)("div",{className:(0,c.cn)("flex items-center gap-1 text-sm",(e=>{switch(e){case"up":return"text-green-400";case"down":return"text-red-400";default:return"text-slate-400"}})(x)),children:[(0,a.jsx)("span",{children:(e=>{switch(e){case"up":return"\uD83D\uDCC8";case"down":return"\uD83D\uDCC9";case"stable":return"➡️";default:return null}})(x)}),(0,a.jsx)("span",{children:m})]})]}),i&&(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-3",children:i}),h&&(0,a.jsx)("div",{className:"h-8 mb-3",children:(0,a.jsx)("svg",{width:"100%",height:"100%",className:"text-blue-400",children:(0,a.jsx)("polyline",{fill:"none",stroke:"currentColor",strokeWidth:"2",points:h.map((e,s)=>{let t=h.length-1;return"".concat(0===t?50:s/t*100,",").concat(100-100*e)}).join(" ")})})}),g&&u&&(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-600 space-y-3 animate-slide-up",children:u.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-slate-300",children:e.label}),e.description&&(0,a.jsx)(d,{content:e.description,children:(0,a.jsx)("span",{className:"text-xs text-slate-500 cursor-help",children:"ℹ️"})})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:e.value})]},s))})]})})}function m(e){let{metrics:s,className:t}=e;return(0,a.jsxs)(n.Zb,{className:(0,c.cn)("card-glass",t),children:[(0,a.jsx)(n.Ol,{children:(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:["\uD83D\uDCCA Performance Trends",(0,a.jsx)(d,{content:"Historical performance metrics showing improvement over time",children:(0,a.jsx)("span",{className:"text-sm text-slate-400 cursor-help",children:"ℹ️"})})]})}),(0,a.jsx)(n.aY,{children:(0,a.jsx)("div",{className:"space-y-6",children:s.map((e,s)=>{let t=(e.baseline-e.current)/e.baseline*100,l=t>0;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(i.C,{variant:l?"default":"destructive",className:"text-xs",children:[l?"\uD83D\uDCC9":"\uD83D\uDCC8"," ",Math.abs(t).toFixed(1),"%"]}),e.target&&(0,a.jsx)(d,{content:"Target: ".concat(e.target).concat(e.unit),children:(0,a.jsx)("span",{className:"text-xs text-slate-400",children:"\uD83C\uDFAF"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"text-lg font-mono font-bold text-white",children:[e.current,e.unit]}),(0,a.jsxs)("div",{className:"text-xs text-slate-500",children:["Baseline: ",e.baseline,e.unit]})]}),(0,a.jsx)("div",{className:"w-24 h-8",children:(0,a.jsx)("svg",{width:"100%",height:"100%",className:"text-blue-400",children:(0,a.jsx)("polyline",{fill:"none",stroke:"currentColor",strokeWidth:"1.5",points:e.trend.map((s,t)=>{let a=Math.min(...e.trend),l=Math.max(...e.trend)-a,n=e.trend.length-1;return"".concat(0===n?50:t/n*100,",").concat(0===l?50:100-(s-a)/l*100)}).join(" ")})})})]})]},s)})})})]})}function u(e){let{onExport:s,className:t}=e,[n,i]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:(0,c.cn)("relative",t),children:[(0,a.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>i(!n),className:"flex items-center gap-2",children:["\uD83D\uDCC4 Export",(0,a.jsx)("span",{className:(0,c.cn)("transition-transform",n&&"rotate-180"),children:"▼"})]}),n&&(0,a.jsx)("div",{className:"absolute top-full right-0 mt-2 bg-slate-800 border border-slate-600 rounded-lg shadow-lg z-50 min-w-32",children:(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsx)("button",{onClick:()=>{s("pdf"),i(!1)},className:"w-full px-3 py-2 text-left text-sm text-white hover:bg-slate-700 flex items-center gap-2",children:"\uD83D\uDCC4 PDF Report"}),(0,a.jsx)("button",{onClick:()=>{s("csv"),i(!1)},className:"w-full px-3 py-2 text-left text-sm text-white hover:bg-slate-700 flex items-center gap-2",children:"\uD83D\uDCCA CSV Data"}),(0,a.jsx)("button",{onClick:()=>{s("json"),i(!1)},className:"w-full px-3 py-2 text-left text-sm text-white hover:bg-slate-700 flex items-center gap-2",children:"\uD83D\uDD27 JSON Logs"})]})})]})}},9955:function(e,s,t){t.d(s,{Z:function(){return m}});var a=t(7437),l=t(2265),n=t(9820),i=t(9174),r=t(2381),c=t(7204),d=t(3448),o=t(2703);function x(e){var s,t;let{step:n,stepNumber:o,isLast:x,onClick:m,expandAll:u}=e,[h,p]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{void 0!==u&&p(u)},[u]),(0,a.jsxs)("div",{className:"relative",children:[!x&&(0,a.jsx)("div",{className:"absolute left-6 top-16 w-0.5 h-full bg-slate-600 z-0"}),(0,a.jsxs)("div",{className:(0,d.cn)("relative bg-slate-800/30 border border-slate-600 rounded-lg p-4 cursor-pointer transition-all duration-300","hover:border-slate-500 hover:bg-slate-800/50",h&&"ring-2 ring-blue-500/30 border-blue-500/50"),onClick:()=>{p(!h),null==m||m(n)},children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 mb-3",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 flex-shrink-0",children:[(0,a.jsx)("div",{className:(0,d.cn)("w-12 h-12 rounded-full border-2 flex items-center justify-center text-lg font-bold z-10 bg-slate-800",{Detection:"text-green-400 bg-green-500/10 border-green-500/30",Diagnosis:"text-blue-400 bg-blue-500/10 border-blue-500/30",Prediction:"text-purple-400 bg-purple-500/10 border-purple-500/30",Resolution:"text-orange-400 bg-orange-500/10 border-orange-500/30",Communication:"text-cyan-400 bg-cyan-500/10 border-cyan-500/30"}[n.agent]||"text-slate-400 bg-slate-500/10 border-slate-500/30"),children:{Detection:"\uD83D\uDD0D",Diagnosis:"\uD83D\uDD2C",Prediction:"\uD83D\uDD2E",Resolution:"⚙️",Communication:"\uD83D\uDCE2"}[n.agent]||"\uD83E\uDD16"}),(0,a.jsxs)(i.C,{variant:"outline",className:"text-xs",children:["Step ",o]})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-white text-lg mb-1",children:n.step}),(0,a.jsx)("p",{className:"text-slate-300 text-sm leading-relaxed",children:n.explanation||n.reasoning})]}),(0,a.jsx)(r.z,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-2 flex-shrink-0",onClick:e=>{e.stopPropagation(),p(!h)},children:h?"−":"+"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-slate-400",children:"Confidence:"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.E,{value:100*n.confidence,className:"w-16 h-1.5"}),(0,a.jsxs)("span",{className:(0,d.cn)("text-sm font-mono font-bold",(s=n.confidence)>=.8?"text-green-400":s>=.6?"text-yellow-400":s>=.4?"text-orange-400":"text-red-400"),children:[(100*n.confidence).toFixed(1),"%"]})]})]}),void 0!==n.riskAssessment&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-slate-400",children:"Risk:"}),(0,a.jsxs)("span",{className:(0,d.cn)("text-sm font-medium",(t=n.riskAssessment)?t>=.7?"text-red-400":t>=.4?"text-yellow-400":"text-green-400":"text-slate-400"),children:[(100*n.riskAssessment).toFixed(1),"%"]})]}),n.processingTime&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-slate-400",children:"Time:"}),(0,a.jsxs)("span",{className:"text-sm font-mono text-white",children:[n.processingTime,"ms"]})]})]}),(0,a.jsxs)("div",{className:"text-xs text-slate-500",children:["⏰ ",n.timestamp]})]})]}),h&&(0,a.jsxs)("div",{className:"ml-16 space-y-4 animate-slide-up",children:[(0,a.jsxs)("div",{className:"bg-slate-700/30 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-slate-200 mb-2 flex items-center gap-2",children:"\uD83E\uDDE0 Detailed Reasoning"}),(0,a.jsx)("p",{className:"text-sm text-slate-300 leading-relaxed",children:n.reasoning})]}),n.evidence&&n.evidence.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-slate-200 mb-3 flex items-center gap-2",children:"\uD83D\uDD0D Supporting Evidence"}),(0,a.jsx)("div",{className:"space-y-2",children:n.evidence.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[(0,a.jsx)("span",{className:"text-blue-400 mt-0.5 flex-shrink-0",children:"•"}),(0,a.jsx)("span",{className:"text-sm text-slate-200 leading-relaxed",children:e})]},s))})]}),n.alternatives&&n.alternatives.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-slate-200 mb-3 flex items-center gap-2",children:"\uD83D\uDD00 Alternatives Considered"}),(0,a.jsx)("div",{className:"space-y-2",children:n.alternatives.map((e,s)=>(0,a.jsxs)("div",{className:(0,d.cn)("p-3 rounded-lg border transition-all",e.chosen?"bg-green-500/20 border-green-500/40 text-green-100":"bg-slate-700/30 border-slate-600 text-slate-300"),children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.option}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(i.C,{variant:e.chosen?"default":"secondary",className:"text-xs",children:[(100*e.probability).toFixed(0),"%"]}),e.chosen&&(0,a.jsx)("span",{className:"text-green-400 text-sm",children:"✓ Selected"})]})]}),e.reasoning&&(0,a.jsx)("p",{className:"text-xs opacity-80 leading-relaxed",children:e.reasoning})]},s))})]}),n.keyInsights&&n.keyInsights.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-slate-200 mb-3 flex items-center gap-2",children:"\uD83D\uDCA1 Key Insights"}),(0,a.jsx)("div",{className:"space-y-2",children:n.keyInsights.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[(0,a.jsx)("span",{className:"text-yellow-400 mt-0.5 flex-shrink-0",children:"\uD83D\uDCA1"}),(0,a.jsx)("span",{className:"text-sm text-slate-200 leading-relaxed",children:e})]},s))})]}),n.nextSteps&&n.nextSteps.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-slate-200 mb-3 flex items-center gap-2",children:"➡️ Next Steps"}),(0,a.jsx)("div",{className:"space-y-2",children:n.nextSteps.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-purple-500/10 border border-purple-500/20 rounded-lg",children:[(0,a.jsxs)("span",{className:"text-purple-400 mt-0.5 flex-shrink-0",children:[s+1,"."]}),(0,a.jsx)("span",{className:"text-sm text-slate-200 leading-relaxed",children:e})]},s))})]})]})]})]})}function m(e){let{reasoningSteps:s,onStepClick:t,className:c}=e,[m,u]=(0,l.useState)(!1),[h,p]=(0,l.useState)("all"),g=s.filter(e=>"all"===h||e.agent===h),f=Array.from(new Set(s.map(e=>e.agent))).sort(),j={totalSteps:s.length,avgConfidence:s.length>0?s.reduce((e,s)=>e+s.confidence,0)/s.length:0,highConfidenceSteps:s.filter(e=>e.confidence>=.8).length,agentDistribution:f.map(e=>({agent:e,count:s.filter(s=>s.agent===e).length}))};return(0,a.jsxs)(n.Zb,{className:(0,d.cn)("card-glass",c),children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:["\uD83E\uDDE0 Agent Reasoning Process",(0,a.jsxs)(i.C,{variant:"secondary",className:"text-xs",children:[g.length," / ",s.length," steps"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"h-8 px-2 text-sm bg-slate-700 border border-slate-600 rounded",children:[(0,a.jsx)("option",{value:"all",children:"All Agents"}),f.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>u(!m),className:"text-xs",children:m?"Collapse All":"Expand All"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-xs text-slate-400",children:[(0,a.jsx)(o.u,{content:"Total reasoning steps completed",children:(0,a.jsxs)("span",{children:["\uD83D\uDCCA ",j.totalSteps," steps"]})}),(0,a.jsx)(o.u,{content:"Average confidence across all reasoning steps",children:(0,a.jsxs)("span",{children:["\uD83C\uDFAF ",(100*j.avgConfidence).toFixed(1),"% avg confidence"]})}),(0,a.jsx)(o.u,{content:"Steps with high confidence (≥80%)",children:(0,a.jsxs)("span",{children:["⭐ ",j.highConfidenceSteps," high confidence"]})}),(0,a.jsx)(o.u,{content:"Number of different agents involved",children:(0,a.jsxs)("span",{children:["\uD83E\uDD16 ",f.length," agents"]})})]})]}),(0,a.jsxs)(n.aY,{children:[0===g.length?(0,a.jsxs)("div",{className:"text-center text-slate-400 py-12",children:[(0,a.jsx)("div",{className:"text-4xl mb-3",children:"\uD83E\uDD14"}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Reasoning Steps Yet"}),(0,a.jsx)("p",{className:"text-sm",children:"Trigger an incident to see live AI reasoning processes"}),(0,a.jsx)("p",{className:"text-xs mt-2 text-slate-500",children:"Agent reasoning will appear here with detailed step-by-step analysis"})]}):(0,a.jsx)("div",{className:"space-y-6 max-h-96 overflow-y-auto pr-2",children:g.map((e,s)=>(0,a.jsx)(x,{step:e,stepNumber:s+1,isLast:s===g.length-1,onClick:t,expandAll:m},e.id))}),s.length>0&&(0,a.jsxs)("div",{className:"mt-6 pt-4 border-t border-slate-600",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Agent Participation"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:j.agentDistribution.map(e=>{let{agent:s,count:t}=e;return(0,a.jsxs)("div",{className:"text-center p-2 bg-slate-800/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-lg mb-1",children:["Detection"===s&&"\uD83D\uDD0D","Diagnosis"===s&&"\uD83D\uDD2C","Prediction"===s&&"\uD83D\uDD2E","Resolution"===s&&"⚙️","Communication"===s&&"\uD83D\uDCE2"]}),(0,a.jsx)("div",{className:"text-xs text-slate-400",children:s}),(0,a.jsxs)("div",{className:"text-sm font-bold text-white",children:[t," steps"]})]},s)})})]})]})]})}}}]);